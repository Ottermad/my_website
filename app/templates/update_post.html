{% from "macros.html" import render_field %}
{% extends "layout.html" %}
{% block body %}
    <form method="POST" action="" class="form">
		{{ form.hidden_tag() }}
		{% for field in form %}
			{{ render_field(field) }}
		{% endfor %}
		<button type="submit" id="submit" class="btn btn-success btn-lg">Update Post</button>
	</form>
{% endblock %}
{% block extra_js %}
	<script type="text/javascript">
		$(document).ready(function(){
			function escapeRegExp(string) {
			    return string.replace(/([.*+?^=!:${}()|\[\]\/\\])/g, "\\$1");
			}
			function replaceAll(string, find, replace) {
			 	return string.replace(new RegExp(escapeRegExp(find), 'g'), replace);
			}
            {% for id in ids %}
                $("#{{id}}").val(replaceAll("{{values[loop.index0]}}", "|", "\n"));
            {% endfor %}
        });
	</script>
{% endblock %}